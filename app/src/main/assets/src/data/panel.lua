Panel={}
Panel.rePopup = {}
Panel.rePopupPre = {}
Panel.popPanels={}
Panel.popStack={}
Panel.rePopupParam={}
Panel._createPanelTable = false;
PANEL_CARD_INFO=1
PANEL_ATLAS=2
PANEL_BAG=3
PANEL_CARD=4
PANEL_ATLAS_FORMATION=5
PANEL_ATLAS_ENTER=6
PANEL_ATLAS_FINAL=7
PANEL_ARENA=8
PANEL_DRAW_CARD=9
PANEL_ATLAS_AUTO=10
PANEL_ATLAS_DROP=11
PANEL_BATTLE_PAUSE=12


PANEL_ARENA_RULE=13
PANEL_ARENA_RANK=14
PANEL_ARENA_RECORD=15


PANEL_BUY_GOLD=16
PANEL_SHOP=17
PANEL_LOGIN=18
PANEL_SERVER_LIST=19
PANEL_DRAW_CARD_REWARD=20
PANEL_ATLAS_REWARD_BOX=21
PANEL_LEVEL_UP=22
PANEL_SET_NAME=23

PANEL_CHAT=24
PANEL_FRIEND=25
PANEL_GLOBAL_BUY = 26
PANEL_USER_INFO=27
-- PANEL_FRIEND_NEW=28
PANEL_ACTIVITY=29
-- PANEL_ACTIVITY_TYPE_1=30
PANEL_ACT_ATLAS_FINAL=31




PANEL_PET=32

PANEL_CARD_UP_QUALITY=33
PANEL_NEW_CARD=34
PANEL_PET_TOWER=35
PANEL_PET_TOWER_BOX=36
PANEL_PET_TOWER_BOX_INFO=37
PANEL_PET_TOWER_BOXOPEN = 38


PANEL_PAY=39
PANEL_FIRST_PAY=40
PANEL_VIP=41
PANEL_TASK=42
PANEL_TASK_REWARDBOX = 43
PANEL_PET_NOTICE=44
PANEL_ITEMSELL=45
PANEL_SOULLIST=46
PANEL_BUY_ENERGY = 47
PANEL_NEWTASK = 48
PANEL_TASK7DAY = 49


PANEL_FAMILY_CREATE=50
PANEL_FAMILY_SEARCH=51
PANEL_FAMILY_HOME=52
PANEL_FAMILY_MAMAGE=53
-- PANEL_FAMILY_APPLY = 54
-- PANEL_FAMILY_NOTICE = 55
-- PANEL_FAMILY_DISMISS = 56
PANEL_FAMILY_EGG = 56
PANEL_FAMILY_CONTRIBUTION = 57
PANEL_FAMILY_BG=58
PANEL_FAMILY_HEAD=59
PANEL_CARD_EXP=60
PANEL_CARD_LEVELUP = 61
PANEL_FAMILY_SPRING = 62
PANEL_FAMILY_SEVEN = 63
PANEL_FAMILY_HDENTER = 64
PANEL_FAMILY_MOBAI = 65
PANEL_FAMILY_CHNAME = 66
PANEL_FAMILY_HALL = 67
PANEL_FAMILY_ACTIVEBOX = 68
PANEL_FAMILY_OTHERFAMILYINFO = 69
PANEL_FAMILY_SKILL = 70
PANEL_FAMILY_USERSKILL = 71
PANEL_FAMILY_DYNAMIC = 72
PANEL_FAMILY_ORE = 73
PANEL_FAMILY_ORE_RECORD = 74
PANEL_FAMILY_MEMTITLE = 75
PANEL_FAMILY_EXPRANK = 76

PANEL_MALL = 80

PANEL_PET_RELATION = 81

PANEL_WORLD_BOSS = 90
PANEL_WORLD_BOSS_REWARD = 91
PANEL_WORLD_BOSS_FINAL = 93
PANEL_WORLD_BOSS_RANK = 94
PANEL_ATLAS_FINAL_REWARD = 95

PANEL_ACTIVITY_ALL=102
PANEL_ACTIVITY_PAY_BOX=103
PANEL_ACTIVITY_PAY_BOX3=104
PANEL_ACTIVITY_WISH_ITEM=105
PANEL_ACTIVITY_TUAN_REWARD=106
PANEL_ACTIVITY_EAT_ENARGY = 107
PANEL_ACTIVITY_CAT = 108

PANEL_SIGNIN = 110
PANEL_USER_CHANGEICON = 111
PANEL_USER_SET=112
PANEL_USER_EXCHANGE=113
PANEL_USER_BINDEMAIL=114
PANEL_LANGUAGE_SET=115

PANEL_MAIL = 120
PANEL_MAIL_WRITE = 121
PANEL_FRIEND_LIST = 122

PANEL_FRIEND_ADD=130
PANEL_FRIEND_INFO=131
PANEL_FRIEND_SIGN=132

PANEL_FORMATION = 140

PANEL_VIP_BUYTIMES = 150
PANEL_RULE = 152
PANEL_SHOP_BUYALL = 153
PANEL_VIP_LEVELUP = 154
-- PANEL_BUY_EXP = 151
-- PANEL_BUY_PETSOUL = 152

PANEL_BATH = 160
PANEL_BATH_DETAIL = 161
PANEL_BATH_MOLEST = 162

PANEL_TRAINROOM = 170
PANEL_TRAINROOM_SINGLE = 171
PANEL_TRAINROOM_MULTI = 172
PANEL_TRAINROOM_PROTECT = 173
PANEL_TRAINROOM_QIANG = 174

PANEL_XUNXIAN_ITEM = 181
PANEL_SPIRIT_INTRO = 182
PANEL_SOULLIFE_FORMATION = 184
PANEL_SPIRIT_QUICK = 185
PANEL_SOULLIFE_DETAIL = 186
PANEL_SOULLIFE_EQUIP  = 187
PANEL_SOULLIFE_EQUIP_ITEM = 188
PANEL_SOULLIFE_UPGRADE = 189
PANEL_SOULLIFE_AUTOCHOOSE = 190
PANEL_SOULLIFE_FRA_ITEM = 191
PANEL_SOULLIFE_FRA_EXCHANGE_PANEL = 192
PANEL_SOULLIFE_CALL_SHEN_PANEL = 193





PANEL_CRUSADE_BUY_TIME=200
PANEL_CRUSADE_ENTER=201
PANEL_CRUSADE_NEW=202
PANEL_CRUSADE=203
PANEL_CRUSADE_SHOP=204
PANEL_SHOP_BUY_ITEM=205
PANEL_CRUSADE_FEAT=206
PANEL_CRUSADE_ATLAS_FINAL=207
PANEL_CRUSADE_CALL=208
PANEL_CRUSADE_CALL_FLA=209

PANEL_ONLINE_GIFT = 210
PANEL_FEEDBACK = 211
PANEL_GIFT = 212
PANEL_FEEDBACK_GT = 213

PANEL_MINE_ATLAS_SWEEP  = 292
PANEL_MINE_ATLAS_ENDBOX = 293
PANEL_MINE_ATLAS_BOX = 294
PANEL_MINE_DRAW_LOTS = 295
PANEL_MINE_ATLAS_DETAIL = 296
PANEL_MINE_ATLAS = 297
PANEL_MINE_BUY_MINER = 298
PANEL_MINE_PICKAX_SUPPLEMENT = 299
PANEL_DIG_MINE = 300
PANEL_MINE_DEPOT = 301
PANEL_MINE_WORKSHOP = 302
PANEL_MINE_NEW_PROJ = 303
PANLE_MINE_EXCHANGE = 304
PANLE_MINE_EXCHANGE_BOX = 305
PANEL_MINE_MERMAID_BUY = 306
PANEL_MINE_LUCKY_WHEEL = 307
PANEL_MINE_BLACK_MARKET = 308
PANEL_MINE_MERMAID_REWARD = 309

PANEL_CARD_NEW_RELATION=310

PANEL_CARD_WEAPON_RAISE=321
PANEL_CARD_WEAPON_EQUIP_SOUL=322
PANEL_CARD_WEAPON_RAISE_VIP=323
PANEL_CARD_WEAPON_PREVIEW=324
PANEL_CARD_WEAPON_TRANSMIT_CARD=325
PANEL_CARD_WEAPON_TRANSMIT=326
PANEL_CARD_WEAPON_TRANSMIT_INFO=327
PANEL_CARD_WEAPON_TRANSMIT_RESULT=328

PANEL_CARD_AWAKE_PREVIEW=330


PANEL_FAMILY_WAR_SIGN=340
PANEL_FAMILY_WAR_EDIT=341
PANEL_FAMILY_WAR_SUPPORT=342
PANEL_FAMILY_WAR_REWARD=343
PANEL_FAMILY_WAR_MATCH=344
PANEL_FAMILY_WAR_RANK=345
PANEL_FAMILY_WAR_MATCH_DETAIL=346

PANEL_SERVER_BATTLE_MAIN = 350
PANEL_SERVER_BATTLE_REWARD_INTRO = 351
PANEL_SERVER_BATTLE_REWARD = 352
PANEL_SERVER_BATTLE_FIND_RIVAL = 353
PANEL_SERVER_BATTLE_RANK = 354
PANEL_SERVER_BATTLE_MATCH = 355
PANEL_SERVER_BATTLE_FORMATION = 356
PANEL_SERVER_BATTLE_BASIC_INFO = 357
PANEL_SERVER_BATTLE_FINAL = 358
PANEL_SERVER_BATTLE_PREVIEW = 359
PANEL_SERVER_BATTLE_LOOK_VIDEO = 360


PANEL_SHARE_NEWCARD = 370
PANEL_SHARE_PET = 371
PANEL_SHARE_FORMATION = 372
PANEL_SHARE_LEVELUP = 373

PANEL_WX_LOGIN_PASSWORD = 379
PANEL_WX_LOGIN= 380
PANEL_WX_BIND= 381

PANEL_TRANSMIT=382
PANEL_CARD_TRANSMIT_RESULT=383
PANEL_MULT_OPEN_BOX=384
PANEL_VIP_NOTICE=385


PANEL_SHOP_DRAGON_EXCHANGE=386
PANEL_APPSTORE_CONFIRM = 387
PANEL_ALTAS_NOTICE = 388
PANEL_SHOP_NOTICE = 389
PANEL_SNATCH_SHOP = 399

PANEL_TOWER = 400
PANEL_TOWER_RESULT = 401
PANEL_TOWER_REWARD = 402
PANEL_TOWER_ADDATTR = 403
PANEL_TOWER_GIFT = 404
PANEL_TOWER_SWEEP = 405
-- PANEL_TOWER_STEPEND = 406
-- PANEL_TOWER_NEWTYPE = 407
PANEL_TOWER_DIFF = 408

PANEL_BATTLE_DATA=501
PANEL_ATLAS_BOX_NOTICE=502
PANEL_BOX_INFO=503

PANEL_RED_PACKAGE=504
PANEL_RED_PACKAGE_DETAIL=505
PANEL_RED_PACKAGE_RAIN=506
PANEL_RED_PACKAGE_REWARD=507
PANEL_RED_PACKAGE_BOX=508

PANEL_ACTIVITY_DAYTASK = 510
PANEL_ACTIVITY_RECRUIT_SHARE = 511

PANEL_TREASURE = 520
PANEL_TREASURE_DECOMPOSE = 521

PANEL_ATLAS_ELITE_FLOP = 530 --精英副本翻牌
PANEL_ADVERTISE = 531  --广告页
PANEL_ACTIVITY_LUCK_WHEEL = 532  --转盘活动
PANEL_ACTIVITY_LUCK_REWARD = 533 
PANEL_ACTIVITY_LUCK_LOG = 534 
PANEL_ATLAS_ELITE_FLOP_TAB = 535 --副本可翻牌列表

PANEL_CARD_SOUL= 536

PANEL_FAMILY_STAGE_MAIN = 600
PANEL_FAMILY_STAGE_BUFF = 601
PANEL_FAMILY_STAGE_BUFF_UP = 602
PANEL_FAMILY_STAGE_JOIN = 603
PANEL_FAMILY_STAGE_LAST_RANK = 604
PANEL_FAMILY_STAGE_REWARD = 605
PANEL_FAMILY_STAGE_FORMATION = 606
PANEL_FAMILY_STAGE_HARM_RANK = 607

PANEL_CONSTELLATION_MAIN = 610
PANEL_CONSTELLATION_BAG  = 611
PANEL_CONSTELLATION_ITEM_DETAIL = 612
PANEL_CONSTELLATION_SEL_CIRCLE = 613
PANEL_CONSTELLATION_CIRCLE_DETAIL = 614
PANEL_CONSTELLATION_ACHIEVE_INFO = 615
PANEL_CONSTELLATION_HUNT = 616
PANEL_CONSTELLATION_SOUL = 617
PANEL_CONSTELLATION_FIGHT = 618
PANEL_PET_AWAKEUP_PREVIEW = 619

PANEL_FAMILY_DONATE_LIST = 620
PANEL_FAMILY_DONATE_CARD_FRAG = 621

PANEL_HALO = 800
PANEL_DRAWCARDBOX = 810

PANEL_HUNT = 820
PANEL_TREASURE_HUNT_GROUP_CHOOSE = 821
PANEL_TREASURE_HUNT_TEAM_FORMATION = 822
PANEL_TREASURE_HUNT_ENTER = 823
PANEL_TREASURE_HUNT_CHOOSE_MAP = 824
PANEL_TREASURE_HUNT_NOTICE = 825
PANEL_TREASURE_HUNT_AMBUSH_DETAIL = 826
PANEL_TREASURE_HUNT_PROGRESS_DETAIL = 827
PANEL_TREASURE_HUNT_STAGE_RECORD = 828
PANEL_TREASURE_HUNT_RECORD =829
PANEL_TREASURE_HUNT_SPEAKER = 830

PANEL_FOODFIGHT_MAIN = 850
PANEL_FOODFIGHT_ACHI = 851
PANEL_FOODFIGHT_RANK = 852
PANEL_FOODFIGHT_RECORD = 853
PANEL_CARD_SKILL_LEVELUP = 854
PANEL_ACTIVITY_MITEM =855
PANEL_MULTIITEM_OPEN_BOX =856
PANEL_ACTIVITY_OPEN_BOX =857
PANEL_CRUSADE_SWEEP =858
PANEL_TREASURE_WENYAO=859
PANEL_TREASURE_ONEKEYDECOM=860
PANEL_TREASURE_BUYTIMES=861
PANEL_TREASURE_OKDECOM_PANEL=862
PANEL_CONSTEL_GROUP_STAR=863
PANEL_PET_TALENT_BOOK=864
PANNEL_PET_TALENT_PROT=865
PANNEL_CARD_SELECT_PET=866
PANNEL_TALENT_LOCK=867
PANNEL_BIND_PHONE_NUM=868
PANNEL_PET_EXPLORE=869
PANNEL_PET_EXPLORE_HD=870
PANNEL_PET_EXPLORE_BOX_REWARD=871
PANNEL_PET_REPLACE_COIN=872
PANNEL_PET_CAVE_RATE_BOOK=873
PANNEL_PET_CAVE_ARCHIVE=874
PANNEL_PET_CAVE_OPENBOX=875
PANNEL_TREASURE_STAR_DES=876
PANEL_TREASURE_TRANSMIT_SEL=877
PANEL_CARD_WEAPON_EXCHANGE_RESULT=878
PANEL_PET_TALENT_REPLACE=879

TIP_PANEL_EQUIP_INFO=1001
TIP_PANEL_EQUIP_COMP=1002
TIP_PANEL_EQUIP_GET=1003
-- TIP_PANEL_FORMATION=1004
TIP_TOUCH_EQUIP_ITEM=1005
TIP_TOUCH_SKILL=1006
TIP_PANEL_SHOP_ITEM=1007


TIP_TOUCH_CHAT_ROLE=1008
TIP_TOUCH_MY_FRIEND=1009
TIP_TOUCH_NORMAL_ROLE=1010
TIP_TOUCH_BLACK_ROLE=1011
TIP_PANEL_FRIEND_INFO=1012
-- PANEL_PET_FORMATION=1013
PANEL_GET_REWARD=1014
PANEL_FIRST_PAY_VIDEO=1015
PANEL_DYNAMIC_MENU = 1016
TIP_TOUCH_COOPERATE_SKILL=1017
PANEL_UNLOCK=1018
PANEL_NOTICEBOARD=1019
PANEL_ATLAS_COMPLETE=1020

TIP_TOUCH_COUNTRY_INFO=1021
TIP_TREASURE=1022
TIP_TOUCH_RAISE=1023
TIP_TOUCH_DESC=1024

PANEL_PAY_MISS = 1025
PANEL_ATLAS_COMPLETE_CG = 1026
PANEL_SOULLIFE_BAOLI_REWARD = 1027
TIP_TOUCH_SOULLIFE_ATTR = 1028
TIP_FAMILY_STAGE_CHA_REC = 1029
TIP_TREASURE_HUNT_SPEAKER = 1030

PANEL_RICHMAN = 1040
PANEL_RICHMAN_REWARD = 1041
PANEL_RICHMAN_RANK = 1042
PANEL_RICHMAN_SHOP = 1043
PANEL_RICHMAN_EVENT = 1044
PANEL_RICHMAN_PASS = 1045


PANEL_TREASURE_ONE_KEY = 1046 
TIP_TOUCH_TALENT_SKILL =1050


Panel.panelIdx=1
Panel.PanelTable=nil


PANEL_BLACK_BG_TAG=100

Panel.BgMusic={}
Panel.BgMusic[PANEL_ATLAS]={ 
    music="bg/bgm_map.mp3"
}


Panel.BgMusic[PANEL_SERVER_BATTLE_MAIN]={ 
    music="bg/bgm_kfyw.mp3"
}


Panel.BgMusic[PANEL_SERVER_BATTLE_MATCH]={ 
    music="bg/bgm_kfyw.mp3"
}



Panel.mutexPanel={}
--未进入游戏前初始化的Panel
function Panel.createPanelTableForEnter()
    Panel.PanelTable[PANEL_NOTICEBOARD]=NoticeboardPanel
    Panel.PanelTable[PANEL_LOGIN]=LoginPanel
    Panel.PanelTable[PANEL_SERVER_LIST]=ServerPanel
    Panel.PanelTable[PANEL_WX_LOGIN_PASSWORD]=WXLoginPasswordPanel
    Panel.PanelTable[PANEL_WX_LOGIN]=WXLoginPanel    
end

function Panel.createPanelTable()
    -- if(Panel.PanelTable~=nil)then
    --     return
    -- end
    -- Panel.PanelTable={}
    if(Panel._createPanelTable)then
        return;
    end

    if(Panel.PanelTable==nil)then
        Panel.PanelTable={}
    end

    if(#startGameInit_table > 0)then
        Panel.createPanelTableForEnter();
        return;
    end

    print("Panel.createPanelTable");
    Panel.createPanelTableForEnter();
    Panel.PanelTable[PANEL_XUNXIAN_ITEM] = XunXianItem
    Panel.PanelTable[PANEL_SPIRIT_INTRO] = SpiritIntroPanel
    Panel.PanelTable[PANEL_SOULLIFE_FORMATION] = SoulLifeFormationPanel
    Panel.PanelTable[PANEL_SPIRIT_QUICK] = SpiritQuickPanel
    Panel.PanelTable[PANEL_SOULLIFE_DETAIL] = SoulLifeDetailPanel
    Panel.PanelTable[PANEL_SOULLIFE_EQUIP] = SoulLifeEquipPanel
    Panel.PanelTable[PANEL_SOULLIFE_EQUIP_ITEM] = SoulLifeEquipItem
    Panel.PanelTable[PANEL_SOULLIFE_UPGRADE] = SoulLifeUpgradePanel
    Panel.PanelTable[PANEL_SOULLIFE_AUTOCHOOSE] = SoulLifeAutoChoosePanel
    Panel.PanelTable[PANEL_SOULLIFE_FRA_ITEM] = SoulLifeFraItem
    Panel.PanelTable[PANEL_SOULLIFE_FRA_EXCHANGE_PANEL] = SoulLifeFraExchangePanel
    Panel.PanelTable[PANEL_SOULLIFE_CALL_SHEN_PANEL] = SoulLifeCallShenPanel
    
    Panel.PanelTable[PANEL_ACTIVITY_DAYTASK] = ActivityTaskDayPanel


    Panel.PanelTable[PANEL_TOWER] = TownPanel
    Panel.PanelTable[PANEL_TOWER_DIFF] = TownDiffPanel
    Panel.PanelTable[PANEL_TOWER_RESULT] = TownResultPanel
    Panel.PanelTable[PANEL_TOWER_REWARD] = TownRewardPanel
    Panel.PanelTable[PANEL_TOWER_ADDATTR] = TownAddAttrPanel
    Panel.PanelTable[PANEL_TOWER_GIFT] = TownGiftPanel
    Panel.PanelTable[PANEL_TOWER_SWEEP] = TownSweepPanel
    -- Panel.PanelTable[PANEL_TOWER_STEPEND] = TowerStepEndPanel
    -- Panel.PanelTable[PANEL_TOWER_NEWTYPE] = TowerNewTypePanel


    Panel.PanelTable[PANEL_BATH] = BathPanel
    Panel.PanelTable[PANEL_BATH_DETAIL] = BathDetailPanel
    Panel.PanelTable[PANEL_BATH_MOLEST] = BathMolestPanel

    Panel.PanelTable[PANEL_TRAINROOM] = TrainRoomPanel
    Panel.PanelTable[PANEL_TRAINROOM_SINGLE] = TrainSingleRoomPanel
    Panel.PanelTable[PANEL_TRAINROOM_MULTI] = TrainMultiRoomPanel
    Panel.PanelTable[PANEL_TRAINROOM_PROTECT] = TrainRoomProtectPanel
    Panel.PanelTable[PANEL_TRAINROOM_QIANG] = TrainRoomQiangPanel

    Panel.PanelTable[PANEL_CARD_INFO]=CardInfoPanel
    Panel.PanelTable[PANEL_ATLAS]=AtlasPanel
    Panel.PanelTable[PANEL_BAG]=BagPanel
    Panel.PanelTable[PANEL_ITEMSELL]=ItemSellPanel
    Panel.PanelTable[PANEL_CARD]=CardPanel
    Panel.PanelTable[PANEL_CARD_EXP]=CardPanel
    Panel.PanelTable[PANEL_CARD_LEVELUP]=CardLevelUpPanel

    Panel.PanelTable[PANEL_ATLAS_ENTER]=AtlasEnterPanel
    Panel.PanelTable[PANEL_ATLAS_FORMATION]=AtlasFormationPanel
    Panel.PanelTable[PANEL_ATLAS_FINAL]=AtlasFinalPanel
    Panel.PanelTable[PANEL_ACT_ATLAS_FINAL]= AtlasActFinalPanel
    Panel.PanelTable[PANEL_ARENA]=ArenaPanel
    Panel.PanelTable[PANEL_DRAW_CARD]=DrawCardPanel
    Panel.PanelTable[PANEL_DRAWCARDBOX]=DrawCardBoxPanel
    Panel.PanelTable[PANEL_SOULLIST]=SoulListPanel

    Panel.PanelTable[PANEL_ATLAS_AUTO]=AtlasAutoPanel
    Panel.PanelTable[PANEL_ATLAS_DROP]=AtlasDropPanel
    Panel.PanelTable[PANEL_BATTLE_PAUSE]=BattlePausePanel
    Panel.PanelTable[PANEL_ATLAS_REWARD_BOX]=AtlasRewardBoxPanel
    Panel.PanelTable[PANEL_ATLAS_ELITE_FLOP]=AtlasEliteFlopPanel
    Panel.PanelTable[PANEL_ATLAS_ELITE_FLOP_TAB]=AtlasEliteFlopTabPanel

    Panel.PanelTable[PANEL_SHARE_NEWCARD]=NewCardSharePanel
    Panel.PanelTable[PANEL_SHARE_PET]=PetSharePanel
    Panel.PanelTable[PANEL_SHARE_FORMATION]=FormationSharePanel
    Panel.PanelTable[PANEL_SHARE_LEVELUP]=LevelUpSharePanel

    Panel.PanelTable[TIP_PANEL_EQUIP_INFO]=TipEquipItem
    Panel.PanelTable[TIP_PANEL_EQUIP_COMP]=TipEquipItemCompound
    Panel.PanelTable[TIP_PANEL_EQUIP_GET]=TipEquipItemGet
    Panel.PanelTable[PANEL_FORMATION]=FormationPanel
    Panel.PanelTable[PANEL_VIP_BUYTIMES]=VipBuyTimesPanel
    Panel.PanelTable[PANEL_VIP_LEVELUP]=VipLevelupPanel
    Panel.PanelTable[PANEL_RULE]=RulePanel
    Panel.PanelTable[TIP_PANEL_SHOP_ITEM]=TipShopItem
    Panel.PanelTable[TIP_TOUCH_EQUIP_ITEM]=TipTouchEquipItem
    Panel.PanelTable[TIP_TOUCH_TALENT_SKILL]=TipTouchPetTalentSkill
    Panel.PanelTable[TIP_TOUCH_SKILL]=TipTouchSkill
    Panel.PanelTable[TIP_TOUCH_MY_FRIEND]=TipTouchMyFriend
    Panel.PanelTable[TIP_TOUCH_CHAT_ROLE]=TipTouchChatRole
    Panel.PanelTable[TIP_PANEL_FRIEND_INFO]=TipFriendInfo
    Panel.PanelTable[TIP_TOUCH_COOPERATE_SKILL]=TipTouchCooperateSkill
    Panel.PanelTable[TIP_TOUCH_COUNTRY_INFO]=TipTouchCountry
    Panel.PanelTable[TIP_TOUCH_RAISE]=TipTouchRaise
    Panel.PanelTable[TIP_TOUCH_DESC]=TipTouchDesc


    Panel.PanelTable[PANEL_ARENA_RANK]=ArenaRankPanel
    Panel.PanelTable[PANEL_ARENA_RECORD]=ArenaRecordPanel
    Panel.PanelTable[PANEL_ARENA_RULE]=ArenaRulePanel

    Panel.PanelTable[PANEL_WORLD_BOSS]=WorldBossPanel
    Panel.PanelTable[PANEL_WORLD_BOSS_REWARD]=WorldBossRewardPanel
    Panel.PanelTable[PANEL_WORLD_BOSS_FINAL]=AtlasWorldBossFinalPanel
    Panel.PanelTable[PANEL_WORLD_BOSS_RANK]=WorldBossRankPanel
    Panel.PanelTable[PANEL_ATLAS_FINAL_REWARD]=AtlasWorldBossRewardlPanel

    Panel.PanelTable[PANEL_BUY_GOLD]=BuyGoldPanel
    Panel.PanelTable[PANEL_BUY_ENERGY]=EnergyBuyPanel
    Panel.PanelTable[PANEL_SHOP]=ShopPanel
    Panel.PanelTable[PANEL_SHOP_BUY_ITEM]=ShopBuyItemPanel
    Panel.PanelTable[PANEL_SHOP_BUYALL]=ShopBuyAllPanel
    Panel.PanelTable[PANEL_MALL]=MallPanel

    Panel.PanelTable[PANEL_LEVEL_UP]=LevelUpPanel
    Panel.PanelTable[PANEL_SET_NAME]=SetNamePanel

    Panel.PanelTable[PANEL_CHAT]=ChatPanel
    Panel.PanelTable[PANEL_FRIEND]=FriendPanel
    Panel.PanelTable[PANEL_FRIEND_ADD]=FriendAddPanel
    Panel.PanelTable[PANEL_FRIEND_INFO]=FriendInfoPanel
    Panel.PanelTable[PANEL_FRIEND_SIGN]=FriendSignPanel

    Panel.PanelTable[PANEL_GLOBAL_BUY]=GlobalBuyPanel
    -- Panel.PanelTable[PANEL_BUY_EXP]=BuyExpPanel
    -- Panel.PanelTable[PANEL_BUY_PETSOUL]=BuyPetSoulPanel
    Panel.PanelTable[PANEL_USER_INFO]=UserInfoPanel
    Panel.PanelTable[PANEL_USER_CHANGEICON]=UserChangeIconPanel
    Panel.PanelTable[PANEL_USER_SET]=UserSetPanel
    Panel.PanelTable[PANEL_USER_EXCHANGE]=UserExchangePanel
    Panel.PanelTable[PANEL_USER_BINDEMAIL]=UserBindEmailPanel
    Panel.PanelTable[PANEL_LANGUAGE_SET]=LanguageSetPanel
    -- Panel.PanelTable[PANEL_FRIEND_NEW]=FriendNewPanel
    Panel.PanelTable[PANEL_ACTIVITY]=ActivityPanel

    Panel.PanelTable[PANEL_CARD_UP_QUALITY ]=CardUpQualityPanel
    Panel.PanelTable[PANEL_NEW_CARD ]=NewCardPanel


    Panel.PanelTable[PANEL_GET_REWARD ]=GetRewardPanel

    Panel.PanelTable[PANEL_PET]=PetPanel
    Panel.PanelTable[PANEL_PET_RELATION]=PetRelationPanel
    Panel.PanelTable[PANEL_PET_TOWER ]=PetTowerPanel
    Panel.PanelTable[PANEL_PET_TOWER_BOX ]=PetTowerBoxPanel
    Panel.PanelTable[PANEL_PET_TOWER_BOX_INFO ]=PetTowerBoxInfoPanel
    Panel.PanelTable[PANEL_PET_TOWER_BOXOPEN ]=PetTowerBoxOpenPanel
    Panel.PanelTable[PANEL_PET_NOTICE]=PetNoticePanel



    Panel.PanelTable[PANEL_PAY]=PayPanel
    Panel.PanelTable[PANEL_FIRST_PAY]=FirstPayPanel
    Panel.PanelTable[PANEL_VIP]=VipPanel
    Panel.PanelTable[PANEL_VIP_NOTICE]=VipNoticePanel
    Panel.PanelTable[PANEL_PAY_MISS]=PayMissPanel


    Panel.PanelTable[PANEL_DYNAMIC_MENU]=DynamicMenuPanel
    Panel.PanelTable[PANEL_FAMILY_BG]=FamilyBgPanel
    Panel.PanelTable[PANEL_FAMILY_HEAD]=FamilyHeadPanel
    Panel.PanelTable[PANEL_FAMILY_CREATE]=FamilyCreatePanel
    Panel.PanelTable[PANEL_FAMILY_SEARCH]=FamilySearchPanel
    Panel.PanelTable[PANEL_FAMILY_HOME]=FamilyHomePanel
    Panel.PanelTable[PANEL_FAMILY_MAMAGE]=FamilyMamagePanel
    -- Panel.PanelTable[PANEL_FAMILY_APPLY]=FamilyApplyPanel
    -- Panel.PanelTable[PANEL_FAMILY_NOTICE]=FamilyNoticePanel
    -- Panel.PanelTable[PANEL_FAMILY_DISMISS]=FamilyDismissPanel
    Panel.PanelTable[PANEL_FAMILY_CONTRIBUTION]=FamilyContributionPanel
    Panel.PanelTable[PANEL_FAMILY_SPRING]=FamilySpringPanel
    Panel.PanelTable[PANEL_FAMILY_SEVEN]=FamilySevenPanel
    Panel.PanelTable[PANEL_FAMILY_EGG]=FamilyEggPanel
    Panel.PanelTable[PANEL_FAMILY_HDENTER]=FamilyHDEnterPanel
    Panel.PanelTable[PANEL_FAMILY_MOBAI]=FamilyMoBaiPanel
    Panel.PanelTable[PANEL_FAMILY_CHNAME]=FamilyChNamePanel
    Panel.PanelTable[PANEL_FAMILY_HALL]=FamilyHallPanel
    Panel.PanelTable[PANEL_FAMILY_ACTIVEBOX]=FamilyActiveBoxPanel
    Panel.PanelTable[PANEL_FAMILY_OTHERFAMILYINFO]=FamilyOtherFamilyInfoPanel
    Panel.PanelTable[PANEL_FAMILY_SKILL]=FamilySkillPanel
    Panel.PanelTable[PANEL_FAMILY_USERSKILL]=FamilyUserSkillPanel
    Panel.PanelTable[PANEL_FAMILY_DYNAMIC]=FamilyDynamicPanel
    Panel.PanelTable[PANEL_FAMILY_ORE]=FamilyOrePanel
    Panel.PanelTable[PANEL_FAMILY_ORE_RECORD]=FamilyOreRecordPanel
    Panel.PanelTable[PANEL_FAMILY_MEMTITLE]=FamilyMemTitlePanel
    Panel.PanelTable[PANEL_FAMILY_EXPRANK]=FamilyExpRankPanel


    Panel.PanelTable[PANEL_TASK] = TaskPanel
    Panel.PanelTable[PANEL_TASK_REWARDBOX] = TaskRewardBoxPanel
    Panel.PanelTable[PANEL_NEWTASK] = NewTaskPanel
    Panel.PanelTable[PANEL_TASK7DAY] = Task7DayPanel

    Panel.PanelTable[PANEL_ACTIVITY_ALL]=ActivityAllPanel
    Panel.PanelTable[PANEL_ACTIVITY_PAY_BOX]=ActivityPayBoxPanel
    Panel.PanelTable[PANEL_ACTIVITY_PAY_BOX3]=ActivityPayBox3Panel
    Panel.PanelTable[PANEL_ACTIVITY_WISH_ITEM]=ActivityWishItem
    Panel.PanelTable[PANEL_ACTIVITY_TUAN_REWARD]=ActivityTuanRewardPanel
    Panel.PanelTable[PANEL_ACTIVITY_EAT_ENARGY]=ActivityEnargyBoxPanel
    Panel.PanelTable[PANEL_ACTIVITY_CAT]=ActivityCatNewPanel

    Panel.PanelTable[PANEL_ACTIVITY_MITEM]=ActivityMultiItemPanel

    Panel.PanelTable[PANEL_SIGNIN]=SigninPanel
    Panel.PanelTable[PANEL_FIRST_PAY_VIDEO]=FirstPayVideoPanel

    Panel.PanelTable[PANEL_MAIL] = MailPanel
    Panel.PanelTable[PANEL_MAIL_WRITE] = MailWritePanel
    Panel.PanelTable[PANEL_FRIEND_LIST] = FriendListPanel

    Panel.PanelTable[PANEL_UNLOCK]=UnlockPanel
    
    Panel.PanelTable[PANEL_ATLAS_COMPLETE]=AtlasCompletePanel


    Panel.PanelTable[PANEL_HALO]=UserHaloPanel


    Panel.PanelTable[PANEL_CRUSADE_BUY_TIME]=CrusadeBuyTimePanel
    Panel.PanelTable[PANEL_CRUSADE_ENTER]=CrusadeEnterPanel
    Panel.PanelTable[PANEL_CRUSADE_NEW]=CrusadeNewPanel
    Panel.PanelTable[PANEL_CRUSADE]=CrusadePanel
    Panel.PanelTable[PANEL_CRUSADE_SHOP]=CrusadeShopPanel
    Panel.PanelTable[PANEL_CRUSADE_FEAT]=CrusadeFeatPanel
    Panel.PanelTable[PANEL_CRUSADE_ATLAS_FINAL]=AtlasCrusadeFinalPanel
    Panel.PanelTable[PANEL_CRUSADE_CALL]=CrusadeCallPanel
    Panel.PanelTable[PANEL_CRUSADE_CALL_FLA]=CrusadeCallFlaPanel

    Panel.PanelTable[PANEL_ONLINE_GIFT]=OnlineGiftPanel
    Panel.PanelTable[PANEL_GIFT]=GiftPanel
    Panel.PanelTable[PANEL_FEEDBACK]=FeedbackPanel
    Panel.PanelTable[PANEL_FEEDBACK_GT]=FeedbackGTPanel

    Panel.PanelTable[PANEL_DIG_MINE]=DigMinePanel
    Panel.PanelTable[PANEL_MINE_DEPOT]=MineDepotPanel
    Panel.PanelTable[PANEL_MINE_WORKSHOP]=MineWorkshopPanel
    Panel.PanelTable[PANEL_MINE_NEW_PROJ]=MineNewProjPanel
    Panel.PanelTable[PANLE_MINE_EXCHANGE]=MineExchangePanel
    Panel.PanelTable[PANLE_MINE_EXCHANGE_BOX]=MineExchangeBox
    Panel.PanelTable[PANEL_MINE_MERMAID_BUY]=MineMermaidBuyPanel
    Panel.PanelTable[PANEL_MINE_LUCKY_WHEEL]=MineLuckyWheelPanel
    Panel.PanelTable[PANEL_MINE_BLACK_MARKET]=MineBlackMarketPanel
    Panel.PanelTable[PANEL_MINE_MERMAID_REWARD]=MineMermaidRewardPanel
    Panel.PanelTable[PANEL_MINE_PICKAX_SUPPLEMENT]=MinePickaxSupplementPanel
    Panel.PanelTable[PANEL_MINE_BUY_MINER]=MineBuyMinerPanel
    Panel.PanelTable[PANEL_MINE_ATLAS]=MineAtlasPanel
    Panel.PanelTable[PANEL_MINE_ATLAS_DETAIL]=MineAtlasDetailPanel
    Panel.PanelTable[PANEL_MINE_DRAW_LOTS]=MineDrawLotsPanel
    Panel.PanelTable[PANEL_MINE_ATLAS_BOX]=MineAtlasBoxPanel
    Panel.PanelTable[PANEL_MINE_ATLAS_ENDBOX]=MineAtlasEndBoxPanel
    Panel.PanelTable[PANEL_MINE_ATLAS_SWEEP]=MineAtlasSweepPanel

    Panel.PanelTable[PANEL_CARD_NEW_RELATION]=NewRelationPanel
    Panel.PanelTable[PANEL_CARD_WEAPON_RAISE]=WeaponRaisePanel
    Panel.PanelTable[PANEL_CARD_WEAPON_EQUIP_SOUL]=WeaponEquipSoulPanel
    Panel.PanelTable[PANEL_CARD_WEAPON_RAISE_VIP]=WeaponRaiseVipPanel
    Panel.PanelTable[PANEL_CARD_WEAPON_PREVIEW]=WeaponPreviewPanel
    Panel.PanelTable[PANEL_CARD_WEAPON_TRANSMIT_CARD]=WeaponTransmitCardPanel
    Panel.PanelTable[PANEL_CARD_WEAPON_TRANSMIT]=WeaponTransmitPanel
    Panel.PanelTable[PANEL_CARD_WEAPON_TRANSMIT_INFO]=WeaponTransmitInfoPanel
    Panel.PanelTable[PANEL_CARD_WEAPON_TRANSMIT_RESULT]=WeaponTransmitResultPanel
    Panel.PanelTable[PANEL_CARD_WEAPON_EXCHANGE_RESULT]=WeaponExchangeResultPanel

    Panel.PanelTable[PANEL_CARD_AWAKE_PREVIEW]=CardAwakePreviewPanel


    Panel.PanelTable[PANEL_FAMILY_WAR_SIGN]=FamilyWarSignUpPanel
    Panel.PanelTable[PANEL_FAMILY_WAR_EDIT]=FamilyWarEditPanel
    Panel.PanelTable[PANEL_FAMILY_WAR_SUPPORT]=FamilyWarSupportPanel
    Panel.PanelTable[PANEL_FAMILY_WAR_REWARD]=FamilyWarRewardPanel
    Panel.PanelTable[PANEL_FAMILY_WAR_MATCH]=FamilyWarMatchPanel
    Panel.PanelTable[PANEL_FAMILY_WAR_RANK]=FamilyWarRankPanel
    Panel.PanelTable[PANEL_FAMILY_WAR_MATCH_DETAIL]=FamilyWarMatchDetailPanel

    Panel.PanelTable[PANEL_SERVER_BATTLE_MAIN]=ServerBattleMainPanel
    Panel.PanelTable[PANEL_SERVER_BATTLE_REWARD_INTRO]=ServerBattleRewardIntroPanel
    Panel.PanelTable[PANEL_SERVER_BATTLE_REWARD]=ServerBattleRewardPanel
    Panel.PanelTable[PANEL_SERVER_BATTLE_FIND_RIVAL]=ServerBattleFindRivalPanel
    Panel.PanelTable[PANEL_SERVER_BATTLE_RANK]=ServerBattleRankPanel
    Panel.PanelTable[PANEL_SERVER_BATTLE_MATCH]=ServerBattleMatchPanel
    Panel.PanelTable[PANEL_SERVER_BATTLE_FORMATION]=ServerBattleFormationPanel
    Panel.PanelTable[PANEL_SERVER_BATTLE_BASIC_INFO]=ServerBattleBasicInfoPanel
    Panel.PanelTable[PANEL_SERVER_BATTLE_FINAL]=ServerBattleFinalPanel
    Panel.PanelTable[PANEL_SERVER_BATTLE_PREVIEW]=ServerBattlePreviewPanel
    Panel.PanelTable[PANEL_SERVER_BATTLE_LOOK_VIDEO]=ServerBattleLookVideoPanel

    
    Panel.PanelTable[PANEL_WX_BIND]=WXBindPanel
    Panel.PanelTable[PANEL_TRANSMIT]=TransmitPanel
    Panel.PanelTable[PANEL_CARD_TRANSMIT_RESULT]=CardTransmitResultPanel
    Panel.PanelTable[PANEL_MULT_OPEN_BOX]=MulitOpenBoxPanel
    Panel.PanelTable[PANEL_SHOP_DRAGON_EXCHANGE]=ShopPanel3
    Panel.PanelTable[PANEL_APPSTORE_CONFIRM]=AppStoreConfirmPanel
    Panel.PanelTable[PANEL_ALTAS_NOTICE]=AtlasNoticePanel
    Panel.PanelTable[PANEL_SHOP_NOTICE]=ShopNoticePanel

    Panel.PanelTable[PANEL_BATTLE_DATA]=BattleDataPanel
    Panel.PanelTable[PANEL_ATLAS_BOX_NOTICE]=AtlasBoxNoticePanel
    
    
    Panel.PanelTable[PANEL_BOX_INFO]=ActivitySign7BoxPanel
    Panel.PanelTable[PANEL_ACTIVITY_RECRUIT_SHARE]=ActivityRecruitSharePanel
    
    Panel.PanelTable[PANEL_RED_PACKAGE]=RedPackagePanel
    Panel.PanelTable[PANEL_RED_PACKAGE_DETAIL]=RedPackageDetailPanel
    Panel.PanelTable[PANEL_RED_PACKAGE_RAIN]=RedPackageRainPanel
    Panel.PanelTable[PANEL_RED_PACKAGE_REWARD]=RedPackageRewardPanel
    Panel.PanelTable[PANEL_RED_PACKAGE_BOX]=RedPackageBoxPanel
    
    
    Panel.PanelTable[PANEL_TREASURE]=TreasurePanel
    Panel.PanelTable[TIP_TREASURE]=TipTreasure
    Panel.PanelTable[PANEL_TREASURE_DECOMPOSE]=TreasureDecomposePanel

    Panel.PanelTable[PANEL_ADVERTISE]=AdvertisePanel
    Panel.PanelTable[PANEL_ACTIVITY_LUCK_WHEEL]=ActivityLuckWheelPanel
    Panel.PanelTable[PANEL_ACTIVITY_LUCK_REWARD]=LuckWheelRewardPanel
    Panel.PanelTable[PANEL_ACTIVITY_LUCK_LOG]=LuckWheelLogPanel
    
    Panel.PanelTable[PANEL_CARD_SOUL]=CardSoulPanel
    Panel.PanelTable[PANEL_ATLAS_COMPLETE_CG]=AtlasCompleteCgPanel
    Panel.PanelTable[PANEL_SOULLIFE_BAOLI_REWARD]=SoullifeBaoliRewardPanel
    Panel.PanelTable[TIP_TOUCH_SOULLIFE_ATTR]=TipTouchSoullifeAttrPanel

    Panel.PanelTable[PANEL_FAMILY_STAGE_MAIN]=FamilyStageMainPanel
    Panel.PanelTable[PANEL_FAMILY_STAGE_BUFF]=FamilyStageBuffPanel
    Panel.PanelTable[PANEL_FAMILY_STAGE_BUFF_UP]=FamilyStageBuffUpPanel
    Panel.PanelTable[PANEL_FAMILY_STAGE_JOIN]=FamilyStageJoinPanel
    Panel.PanelTable[PANEL_FAMILY_STAGE_LAST_RANK]=FamilyStageLastRankPanel
    Panel.PanelTable[PANEL_FAMILY_STAGE_REWARD]=FamilyStageRewardPanel
    Panel.PanelTable[TIP_FAMILY_STAGE_CHA_REC]=TipFamilyStageChaRecPanel
    Panel.PanelTable[PANEL_FAMILY_STAGE_FORMATION]=FamilyStageFormationPanel
    Panel.PanelTable[PANEL_FAMILY_STAGE_HARM_RANK]=FamilyStageHarmRankPanel
    Panel.PanelTable[PANEL_HUNT]=HuntPanel
    Panel.PanelTable[PANEL_TREASURE_HUNT_GROUP_CHOOSE]=TreasureHuntGroupChoosePanel
    Panel.PanelTable[PANEL_TREASURE_HUNT_TEAM_FORMATION]=TreasureHuntTeamFormationPanel
    Panel.PanelTable[PANEL_TREASURE_HUNT_ENTER]=TreasureHuntEnterPanel
    Panel.PanelTable[PANEL_TREASURE_HUNT_CHOOSE_MAP]=TreasureHuntChooseMapPanel
    Panel.PanelTable[PANEL_TREASURE_HUNT_NOTICE]=TreasureHuntNoticePanel
    Panel.PanelTable[PANEL_TREASURE_HUNT_AMBUSH_DETAIL]=TreasureHuntAmbushDetailPanel
    Panel.PanelTable[PANEL_TREASURE_HUNT_PROGRESS_DETAIL]=TreasureHuntProgressDetailPanel
    Panel.PanelTable[PANEL_TREASURE_HUNT_STAGE_RECORD]=TreasureHuntStageRecordPanel
    Panel.PanelTable[PANEL_TREASURE_HUNT_RECORD]=TreasureHuntRecordPanel
    Panel.PanelTable[TIP_TREASURE_HUNT_SPEAKER]=TipTouchTreasureHuntSpeaker
    Panel.PanelTable[PANEL_TREASURE_HUNT_SPEAKER]=TreasureHuntSpeakerPanel

    Panel.PanelTable[PANEL_FOODFIGHT_MAIN]=FoodFightPanel
    Panel.PanelTable[PANEL_FOODFIGHT_ACHI]=FoodFightAchiPanel
    Panel.PanelTable[PANEL_FOODFIGHT_RANK]=FoodFightRankPanel
    Panel.PanelTable[PANEL_FOODFIGHT_RECORD]=FoodFightRecordPanel
    
    Panel.PanelTable[PANEL_CONSTELLATION_MAIN]=ConstellationMainPanel
    Panel.PanelTable[PANEL_CONSTELLATION_BAG]=ConstellationBagPanel
    Panel.PanelTable[PANEL_CONSTELLATION_ITEM_DETAIL]=ConstellationItemDetailPanel
    Panel.PanelTable[PANEL_CONSTELLATION_SEL_CIRCLE]=ConstellationSelectCirclePanel
    Panel.PanelTable[PANEL_CONSTELLATION_CIRCLE_DETAIL]=ConstellationCircleDetailPanel
    Panel.PanelTable[PANEL_CONSTELLATION_ACHIEVE_INFO]=ConstellationAchieveInfoPanel
    Panel.PanelTable[PANEL_CONSTELLATION_HUNT]=ConstellationHuntPanel
    Panel.PanelTable[PANEL_CONSTELLATION_SOUL]=ConstellationSoulPanel
    Panel.PanelTable[PANEL_CONSTELLATION_FIGHT]=ConstellationFightPanel

    Panel.PanelTable[PANEL_RICHMAN]=RichmanPanel
    Panel.PanelTable[PANEL_RICHMAN_REWARD]=RichmanRewardPanel
    Panel.PanelTable[PANEL_RICHMAN_RANK]=RichmanRankPanel 
    Panel.PanelTable[PANEL_RICHMAN_SHOP]=RichmanShopPanel 
    Panel.PanelTable[PANEL_RICHMAN_EVENT]=RichmanEventPanel 
    Panel.PanelTable[PANEL_RICHMAN_PASS]=RichmanPassPanel 
    Panel.PanelTable[PANEL_TREASURE_WENYAO]=TreasureWenYaoPanel 

    Panel.PanelTable[PANEL_TREASURE_ONEKEYDECOM ]=TreasureOneKeyDecom 
    Panel.PanelTable[PANEL_TREASURE_BUYTIMES]=TreasureBuyTimes 


    Panel.PanelTable[PANEL_FAMILY_DONATE_LIST]=FamilyDonateListPanel 
    Panel.PanelTable[PANEL_FAMILY_DONATE_CARD_FRAG]=FamilyDonateCardPanel 
    
    Panel.PanelTable[PANEL_TREASURE_ONE_KEY]=TreasureQuenchOneKeyPanel

    Panel.PanelTable[PANEL_PET_AWAKEUP_PREVIEW]=PetAwakePreviewPanel
 
    Panel.PanelTable[PANEL_CARD_SKILL_LEVELUP]=CardSkillLevelUpPanel

    Panel.PanelTable[PANEL_MULTIITEM_OPEN_BOX]=MultiItemOpenBoxPanel
    Panel.PanelTable[PANEL_ACTIVITY_OPEN_BOX]=ActivityBoxPanel
    
    Panel.PanelTable[PANEL_CRUSADE_SWEEP]=AtlasCrusadeSweepFinalPanel
    Panel.PanelTable[PANEL_TREASURE_OKDECOM_PANEL]=TreasureOKDecomposePanel
    Panel.PanelTable[PANEL_CONSTEL_GROUP_STAR]=ConstellationGroupStar

    Panel.PanelTable[PANEL_PET_TALENT_BOOK]=PetTalentBookPanel
    Panel.PanelTable[PANNEL_PET_TALENT_PROT]=PetTalentProtPanel 
    Panel.PanelTable[PANNEL_CARD_SELECT_PET]=CardSelPetPanel 
    Panel.PanelTable[PANNEL_TALENT_LOCK]=PetTalentLock
    Panel.PanelTable[PANNEL_BIND_PHONE_NUM]=BindPhoneNumPanel
    Panel.PanelTable[PANNEL_PET_EXPLORE]=PetExplorePanel
    Panel.PanelTable[PANNEL_PET_EXPLORE_HD]=PetExploreActivityPanel
    Panel.PanelTable[PANNEL_PET_EXPLORE_BOX_REWARD]=PetExploreBoxPanel
    Panel.PanelTable[PANNEL_PET_REPLACE_COIN]=PetExploreReplaceCoin
    Panel.PanelTable[PANNEL_PET_CAVE_RATE_BOOK]=PetExploreRateBook
    Panel.PanelTable[PANNEL_PET_CAVE_ARCHIVE]=PetCaveTaskPanel
    Panel.PanelTable[PANNEL_PET_CAVE_OPENBOX]=PetCaveBoxOpenPanel
    Panel.PanelTable[PANNEL_TREASURE_STAR_DES]=TreasureStarDes
    Panel.PanelTable[PANEL_TREASURE_TRANSMIT_SEL]=TreasureTransmitSelPanel
    Panel.PanelTable[PANEL_PET_TALENT_REPLACE]=PetTalentReplace
    
    Panel.extendPanelTable();
    
    Panel.mutexPanel={PANEL_CARD,PANEL_BAG,PANEL_PET,PANEL_TASK,PANEL_FRIEND,PANEL_SOULLIFE_FORMATION}
    Panel._createPanelTable = true;
end

function Panel.extendPanelTable()
end

function Panel.pushRePopup(func)
    local ret = {};
    ret.func = func;
    table.insert(Panel.rePopup,ret);
end

function Panel.pushRePopupPre(func)
    local ret = {};
    ret.func = func;
    table.insert(Panel.rePopupPre,ret);
end

function Panel.rePopUpPre()
    local ret = false;
    for key,var in pairs(Panel.rePopupPre) do
        if var.func then
            var.func();
            ret = true;
        end
    end
    Panel.rePopupPre = {};
    return ret;
end

function Panel.pushRePopupPanel(type,param1,param2,visible,isBlackBgVisible)
    -- Panel.rePopupParam={}
    -- Panel.rePopupParam.panelId=type
    -- Panel.rePopupParam.param1=param1
    -- Panel.rePopupParam.param2=param2
    local ret = {};
    ret.panelId=type
    ret.param1=param1
    ret.param2=param2
    ret.visible=visible;
    ret.isBlackBgVisible = isBlackBgVisible;
    table.insert(Panel.rePopup,ret);
end

function Panel.rePopupPanel()

    for key,var in pairs(Panel.rePopup) do
        if var.panelId then
            Panel.popUp(var.panelId,var.param1,var.param2,var.visible,var.isBlackBgVisible);
        elseif var.func then
            var.func();
        end
    end

    Panel.rePopup = {};

-- if(Panel.rePopupParam.panelId)then

--     if Panel.rePopupParam.panelId == PANEL_PET_TOWER then
--       Net.sendPetAtlasInfo()
--     else
-- Panel.popUp(
-- Panel.rePopupParam.panelId,
-- Panel.rePopupParam.param1,
-- Panel.rePopupParam.param2)
--     end
-- end

-- Panel.rePopupParam={}
end

function Panel.clearRepopup()
    Panel.rePopup = {};
    Panel.rePopupPre = {};
end

function Panel.popTouchTip(node,type,param1,param2,putOnNodeAnchor,tipAnchor)
    local tip=nil
    Panel.clearTouchTip()
    if(Panel.PanelTable[type])then
        tip=Panel.PanelTable[type].new(param1,param2)
    end

    if(tip and tip:getNode("tip_bg"))then
        tip.__tip=true
    end

    if(tip)then
        gTouchTipLayer:addChild(tip)

        -- local targetPos= node:convertToWorldSpaceAR(cc.p(0,0))
        -- local pos= gTouchTipLayer:convertToNodeSpace(targetPos)
        if putOnNodeAnchor == nil then
            putOnNodeAnchor = cc.p(0.5,1);
        end
        if tipAnchor == nil then
            tipAnchor = cc.p(0.5,-1);
        end
        tip:setAnchorPoint(tipAnchor);
        local anchorPoint = putOnNodeAnchor;
        if node.isUILayer then
            anchorPoint = cc.p(putOnNodeAnchor.x,putOnNodeAnchor.y - 1);
        end
        local pos = gGetPositionByAnchorInDesNode(gTouchTipLayer,node,anchorPoint);
        -- print("------before");
        -- print_lua_table(pos);
        --边界检测
        if pos.x - tip:getContentSize().width*tip:getAnchorPoint().x < 0 then
            pos.x = tip:getContentSize().width*tip:getAnchorPoint().x;
        elseif pos.x + tip:getContentSize().width*tip:getAnchorPoint().x > gGetScreenWidth() then
            pos.x = gGetScreenWidth() - tip:getContentSize().width*tip:getAnchorPoint().x;
        end

        print_lua_table(tip:getAnchorPoint());
        print_lua_table(tip:getContentSize());
        if pos.y - tip:getContentSize().height*(1-math.abs(tip:getAnchorPoint().y)) < 0 then
            pos.y = tip:getContentSize().height*(1-math.abs(tip:getAnchorPoint().y));
            -- print("yyyyyy 1111111");
        elseif pos.y + tip:getContentSize().height*math.abs(tip:getAnchorPoint().y) > gGetScreenHeight() then
            pos.y = gGetScreenHeight() - tip:getContentSize().height*math.abs(tip:getAnchorPoint().y);
            -- print("yyyyyy 22222222");
        end
        -- print("------after");
        -- print_lua_table(pos);

        tip:setPosition(pos)
        return tip
    end
    return nil
end

function Panel.checkMainLayerGold()

    local panel=Panel.getTopPanel(Panel.popPanels)
    if( panel )then
        --是否显示主界面金币，经验
        if(gMainMoneyLayer) then
            if panel.hideMainLayerInfo or panel._panelTop then
                panel.isMainLayerGoldShow = false;
                panel.isMainLayerMenuShow = false;
                panel.isMainLayerOtherShow = false;
                panel.isMainLayerCrusadeShow = false;
            end
            if gMainMoneyLayer:getNode("panel_money") then
                if(panel.isMainLayerGoldShow==false)then
                    gMainMoneyLayer:getNode("panel_money"):setVisible(false)
                else
                    gMainMoneyLayer:getNode("panel_money"):setVisible(true)
                end
            end


            if gMainMoneyLayer:getNode("panel_cru_money") then
                gMainMoneyLayer:getNode("panel_cru_money"):setVisible(false)
                if(panel.isMainLayerCrusadeShow)then
                    gMainMoneyLayer:getNode("panel_cru_money"):setVisible(true)
                    gMainMoneyLayer:reFreshCrudeData()
                end
            end

            if gMainMoneyLayer:getNode("panel_menu") then
                if(panel.isMainLayerMenuShow==false)then
                    gMainMoneyLayer:getNode("panel_menu"):setVisible(false)
                else
                    gMainMoneyLayer:getNode("panel_menu"):setVisible(true)
                end
            end
        end
    else
        if(gMainMoneyLayer and  gMainMoneyLayer:getNode("panel_money"))then
            gMainMoneyLayer:getNode("panel_money"):setVisible(true)
        end

        if(gMainMoneyLayer and  gMainMoneyLayer:getNode("panel_menu"))then
            gMainMoneyLayer:getNode("panel_menu"):setVisible(true)
        end


        if(gMainMoneyLayer and  gMainMoneyLayer:getNode("panel_cru_money"))then
            gMainMoneyLayer:getNode("panel_cru_money"):setVisible(false)
        end
    end


end

function Panel.clearTouchTip()
    gTouchTipLayer:removeAllChildren(true)
end

function Panel.getUILayerInCache(panelType)
    if(panelType == PANEL_CARD_INFO)then
        return Scene.uiLayerCache[panelType];
    end
    return nil;
end

function Panel.addUILayerInCache(panelType,uilayer)
    if(panelType == PANEL_CARD_INFO)then
        Scene.addUILayerInCache(panelType,uilayer);
    end
end

function Panel.createPanel(type,param1,param2)
    local _panel=nil

    Panel.createPanelTable()
    Panel.removePanelBeforeCreate(type)
    if(Panel.PanelTable[type])then
        _panel = Panel.getUILayerInCache(type);
        if(_panel == nil)then
            _panel=Panel.PanelTable[type].new(param1,param2)
            Panel.addUILayerInCache(type,_panel)
        else
            if(_panel.initFromCache)then
                _panel:initFromCache(param1,param2);
            end       
        end
    end

    if(type>1000 and _panel and _panel:getNode("tip_bg"))then
        _panel.__tip=true
    end

    return _panel
end



function  Panel.getPanelByType(type)
    for key, temp in pairs(Panel.popPanels) do
        if(temp.__panelType==type)then
            return temp
        end
    end
    return nil
end

--判断panel是否打开
function Panel.isOpenPanel(type)

    for key, temp in pairs(Panel.popPanels) do
        if(temp.__panelType==type)then
            return true;
        end
    end

    for key, temp in pairs(Panel.popStack) do
        if(temp.__panelType==type)then
            return true;
        end
    end

    return false;
end

--判断最顶层panel
function Panel.isTopPanel(type)
    local panel=Panel.getTopPanel(Panel.popPanels)
    if panel and panel.__panelType == type then
        return true;
    end
    return false;
end




function Panel.getTopPanel(panels)
    local topPanel=nil
    local retKey=nil
    for key, var in pairs(panels) do
        if topPanel == nil then
            topPanel=var
            retKey=key
        elseif topPanel:getTag() < var:getTag() then
            topPanel=var
            retKey=key
        end
    end
    return topPanel,retKey
end

function Panel.popUpUnVisible(type,param1,param2,isBlackBgVisible)
    return Panel.popUp(type,param1,param2,false,isBlackBgVisible);
end

function Panel.popUpVisible(type,param1,param2,isBlackBgVisible)
    local visible = true;
    if gIsAndroid() then
        visible = false;
    end
    return Panel.popUp(type,param1,param2,visible,isBlackBgVisible);
end

function Panel.removeStackPanelByType(type)

    for key, panel in pairs(Panel.popStack) do
        if(panel.__panelType==type)then
            table.remove(Panel.popStack,key)
            panel:removeFromParent(true)
            return
        end
    end
end

function Panel.popBackTopPanelByType(type)
    local panel=Panel.getTopPanel(Panel.popPanels)
    if( panel and panel.__panelType==type)then
        Panel.popBack(panel:getTag())
    end
end

function Panel.removeMutexPanel(type)
    local isInMutex=false

    for key, panelType in pairs(Panel.mutexPanel) do
        if(panelType==type)then
            isInMutex=true
        end
    end

    if(isInMutex==false)then
        return false
    end

    for key, panelType in pairs(Panel.mutexPanel) do
        Panel.removeStackPanelByType(panelType)
    end

end

function Panel.popUp(type,param1,param2,visible,isBlackBgVisible)

    if visible == nil then
        visible = false;
    end

    local size=cc.Director:getInstance():getWinSize()
    local topPanel=Panel.getTopPanel(Panel.popPanels)


    if(topPanel and topPanel.__panelType==type)then
        return
    end
    Panel.removeStackPanelByType(type)
    local _panel=Panel.createPanel(type,param1,param2)


    --二级窗口标注
    if _panel.isWindow then
        visible = true;
    end

    --覆盖是否需要半透明底的设置
    if isBlackBgVisible then
        _panel.isBlackBgVisibleForce = isBlackBgVisible;
    end

    if(topPanel)then
        if(_panel  )then
            if(_panel.__tip==true)then
                visible=true
            end
            Panel.popBack(topPanel:getTag(),true,visible)
        end
    end

    -- Panel.removeStackPanelByType(type)
    Panel.removeMutexPanel(type)

    -- Panel.removeStackPanelByType(PANEL_CHAT)
    gRollNoticeLayer:setPos(false)
    gNoRollNoticeLayer:setPos(false)


    if(_panel)then
        Panel.checkPanelRefreshMoneyType(type);
        _panel.__panelType=type
        _panel.__param1=param1
        _panel.__panel=true
        _panel.__param2=param2
        Panel.popPanels[Panel.panelIdx]=_panel
        _panel:setTag(Panel.panelIdx)
        _panel:setLocalZOrder( Panel.panelIdx)
        Panel.panelIdx=Panel.panelIdx+2
        if not (_panel.appearType and _panel.appearType > 0) then
            _panel:ignoreAnchorPointForPosition(false);
            _panel:setAnchorPoint(cc.p(0.5,-0.5));
            _panel:setPosition((size.width)/2,(size.height)/2);
        end

        gPanelLayer:addChild(_panel)

        local blackBg=gPanelLayer:getChildByTag(PANEL_BLACK_BG_TAG)
        if(blackBg==nil)then
            blackBg=Panel.createBlackBg()
            gPanelLayer:addChild(blackBg,0,PANEL_BLACK_BG_TAG)
        end


        Panel.checkMainLayerGold()
        Panel.checkBlackBg(_panel,_panel)



        if(_panel.onPopup)then
            _panel:onPopup()
        end
 
        Panel.checkMainPopup(visible)
    end

    -- RedPoint.update(true)
    gRedposRefreshDirty = true;

    return _panel

end


function Panel.checkMainPopup(visible)
    if(visible==nil)then
        visible=false
    end
    if(gMainLayer )then
        if( not visible)then
            gMainLayer:callWhenPopPanel()
        end
        -- gMsgWinLayer:hide()
        gMainLayer:checkMusic()
    end

    if(gMainMoneyLayer)then
        gMainMoneyLayer:callWhenPopPanel()
    end
    Guide.updateGame()
end

function Panel.createBlackBg()
    local size=cc.Director:getInstance():getWinSize()
    local blackBg=FlashAni.new()
    local size=cc.Director:getInstance():getWinSize()
    blackBg:playAction("ui_common_cover_purple")
    blackBg:setPosition(cc.p(size.width/2,size.height/2))
    local listener = cc.EventListenerTouchOneByOne:create()
    listener:setSwallowTouches(true)
    local function touchBegan()
        local panel=Panel.getTopPanel(Panel.popPanels)
        if (panel and panel.byPassTouch == true) then
            return false
        else
            return true
        end
    end

    local function touchEnd()
        --print ("PanelBg:touchEnd")
        local panel=Panel.getTopPanel(Panel.popPanels)
        if( panel and panel.__tip==true)then
            Panel.popBack(panel:getTag())
        end
    end
    listener:registerScriptHandler(touchBegan,cc.Handler.EVENT_TOUCH_BEGAN )
    listener:registerScriptHandler(touchEnd,cc.Handler.EVENT_TOUCH_ENDED )
    listener:registerScriptHandler(touchEnd,cc.Handler.EVENT_TOUCH_CANCELLED)
    local eventDispatcher = blackBg:getEventDispatcher()
    eventDispatcher:addEventListenerWithSceneGraphPriority(listener, blackBg)
    return blackBg
end

function Panel.popBackAll()
    gPanelLayer:removeAllChildren()
    Panel.popPanels={}
    Panel.popStack={}
    Panel.panelIdx=1

    if(gMainLayer)then
        gMainLayer:callWhenPopBackPanel()
    end
    Scene.clearLazyFunc()
    -- RedPoint.update(true)
    gRedposRefreshDirty = true;
end

function Panel.dispatchEvt(event,param)
    -- print(">>> start");
    -- print("Panel.dispatchEvt = "..event);
    local popPanels = table.shallowCopy(Panel.popPanels);
    for key, panel in pairs(popPanels) do
        local events=panel:events()
        for key2, panelEvent in pairs(events ) do
            if(panelEvent==event)then
                panel:dealEvent(event,param)
            end
        end
    end

    popPanels = table.shallowCopy(Panel.popStack);
    for key, panel in pairs(popPanels) do
        local events=panel:events()
        -- print("events size = "..table.getn(events));
        -- print_lua_table(events);
        for key2, panelEvent in pairs(events ) do
            -- print("panelEvent = "..panelEvent);
            if(panelEvent==event)then
                panel:dealEvent(event,param)
            end
        end
    end

    -- print(">>> end");
    return false
end

function Panel.checkBlackBg(popPanel,topPanel)
    local blackBg=gPanelLayer:getChildByTag(PANEL_BLACK_BG_TAG)
    if(blackBg   )then
        blackBg:setVisible(popPanel.isBlackBgVisible);
        -- print("popPanel.isBlackBgVisible"..popPanel.isBlackBgVisible)
        if(Panel.forceHideBlackBg(popPanel))then
            blackBg:setVisible(false)
        end
        if(topPanel)then
            blackBg:setLocalZOrder(topPanel:getTag()-1)
        end
    end
end

function Panel.forceHideBlackBg(curPanel)
    if(gMainLayer==nil)then
        return false
    end

    local  hasVisible=false
    for key, panel in pairs(Panel.popStack) do
        hasVisible=true
        break
    end

    if(curPanel.isBlackBgVisibleForce ~= nil)then
        hasVisible = curPanel.isBlackBgVisibleForce;
    end

    return not hasVisible
end

local disappearSeqActTag = 10000
function Panel.popBack(panelId,stack,stackVisible,isCheckpopBackCheckStack)

    if(isCheckpopBackCheckStack == nil)then
        isCheckpopBackCheckStack = true;
    end
    if(Panel.popPanels[panelId] and Panel.popPanels[panelId].onPopback)then
        Panel.popPanels[panelId]:onPopback()
    end

    if(gMainMoneyLayer)then
        gMainMoneyLayer:getNode("panel_money"):setVisible(true)
    end

    local panel=Panel.popPanels[panelId]
    Panel.popPanels[panelId]=nil

    if(stack==true)then
        if panel.onPushStack then
            panel:onPushStack()
        end
        if panel.showNodeDisappearActs then
            local disappearSeqAct = nil
            if stackVisible == false then
                if panel.needShowPopUpAct then
                    panel.showPopUpAct = true;
                end
                local time = panel:showNodeDisappearActs();
                disappearSeqAct = cc.Sequence:create(cc.DelayTime:create(time),cc.Hide:create())
            else
                panel:setVisible(stackVisible)
            end

            if nil ~= disappearSeqAct then
                disappearSeqAct:setTag(disappearSeqActTag)
                panel:runAction(disappearSeqAct);
            end
        else
            panel:setVisible(stackVisible)
        end

        table.insert(Panel.popStack,panel)
        Panel.popBackCheckAllClose();
    else
        if(panel)then
            --相当于onExist
            if panel.onPopBackFromStack then
                panel:onPopBackFromStack();
            end
            if(isCheckpopBackCheckStack)then
                Panel.popBackCheckStack();
            end
            Panel.checkMainLayerGold()
            if panel.onDisappear then
                panel:onDisappear(Panel.popBackCheckAllClose);
                return;
            else
                panel:removeFromParent()
                Panel.popBackCheckAllClose();
            end
        end
    end
    -- RedPoint.update(true)
    gRedposRefreshDirty = true;
end


--
function Panel.popBackCheckStack()
    if(table.getn(Panel.popStack)~=0)then
        local popPanel,stackKey=Panel.getTopPanel(Panel.popStack)
        popPanel:setVisible(true)
        if nil ~= popPanel.showNodeDisappearActs then
            popPanel:stopActionByTag(disappearSeqActTag)
        end
        Panel.checkPanelRefreshMoneyType(popPanel.__panelType);
        if(popPanel.onPopup)then
            popPanel:onPopup()
        end
        if popPanel.showPopUpAct and popPanel.showNodeAppearActs then
            popPanel:showNodeAppearActs();
            popPanel.showPopUpAct = false;
        end

        Panel.popPanels[popPanel:getTag()]=popPanel
        Panel.popStack[stackKey]=nil
        Panel.checkBlackBg(popPanel,Panel.getTopPanel(Panel.popPanels))


        Guide.updateGame()
        if(gMainLayer)then
            gMainLayer:checkMusic()
        end
    end
end

function Panel.updateGame()

end

--判断是否没有弹窗了
function Panel.popBackCheckAllClose()
    if(gPanelLayer:getChildrenCount()==1  )then
        gPanelLayer:removeAllChildren()
        if(gMainLayer)then
            gMainLayer:callWhenPopBackPanel()
        end
        Scene.clearWinCache()
    end
end


gPanelMoneyType = {
    {panel={PANEL_ARENA,PANEL_BATH},moneyType = OPEN_BOX_REPU},
    {panel={PANEL_CARD,PANEL_CARD_INFO,PANEL_TRAINROOM},moneyType = OPEN_BOX_CARDEXP_ITEM},
    {panel={PANEL_PET},moneyType = OPEN_BOX_PET_SOUL},
    {panel={PANEL_FAMILY_HOME},moneyType = OPEN_BOX_FAMILY_DEVOTE},
    {panel={TIP_PANEL_EQUIP_GET,
        PANEL_ATLAS_ENTER,PANEL_BAG,
        PANEL_TASK,
        PANEL_FRIEND,
        PANEL_PET_TOWER,
        PANEL_ACTIVITY_ALL,
        PANEL_ACTIVITY,
        PANEL_DIG_MINE,
        PANEL_RICHMAN,
        PANEL_CRUSADE_BUY_TIME},moneyType = OPEN_BOX_ENERGY},

    {panel={PANEL_SPIRIT_INTRO,
        PANEL_SPIRIT_QUICK,
        PANEL_SOULLIFE_EQUIP,
        PANEL_SOULLIFE_UPGRADE,
        PANEL_SOULLIFE_AUTOCHOOSE,
        PANEL_SOULLIFE_CALL_SHEN_PANEL},moneyType = ID_SPIRIT_FRAGMENT},

    {panel={PANEL_CARD_WEAPON_RAISE,
        PANEL_CARD_WEAPON_EQUIP_SOUL},moneyType = OPEN_BOX_EQUIP_SOUL},

    {panel={PANEL_SERVER_BATTLE_MAIN},
        moneyType = OPEN_BOX_SERVERBATTLE},

    {panel={PANEL_TRANSMIT},
        moneyType = OPEN_BOX_SOULMONEY},
        
    
    {panel={PANEL_TOWER,TIP_TREASURE},
        moneyType = OPEN_BOX_TOWERMONEY},
        
    {panel={PANEL_SHOP_DRAGON_EXCHANGE},
        moneyType = OPEN_BOX_DRAGON_BALL},
    {panel={PANEL_MINE_ATLAS,PANEL_MINE_ATLAS_DETAIL},
        moneyType=OPEN_BOX_MINEPOINT},
    {panel={PANEL_SOULLIFE_FORMATION,PANEL_SOULLIFE_FRA_EXCHANGE_PANEL,PANEL_SOULLIFE_DETAIL},
        moneyType=ITEM_SPIRIT_BUY},
    {panel={PANEL_DRAW_CARD},
        moneyType=ITEM_DRAW_GOLD_BUY},
    {panel={PANEL_FAMILY_STAGE_MAIN}, 
        moneyType=OPEN_BOX_FAMILY_MONEY},
    {panel={PANEL_CONSTELLATION_MAIN,PANEL_CONSTELLATION_BAG},
        moneyType=OPEN_BOX_CONSTELLATION_SOUL},
    -- {panel={PANEL_ACTIVITY_ALL},
    --     moneyType = OPEN_BOX_EMOTION_MONEY}
}

function Panel.checkPanelRefreshMoneyType(panelType)
    if gMainMoneyLayer then
        for key,var in pairs(gPanelMoneyType) do
            for k,v in pairs(var.panel) do
                if v == panelType then
                    gMainMoneyLayer:setMoneyType(var.moneyType);
                    break;
                end
            end
        end
    end
end

function Panel.getMainMoneyType()
    if gMainMoneyLayer then
        return gMainMoneyLayer.moneyType;
    end
    return -1;
end

function Panel.setMainMoneyType(moneyType,param)
    if gMainMoneyLayer then
        gMainMoneyLayer:setMoneyType(moneyType,param);
    end
end

function Panel.getOpenPanel(type)

    for key, panel in pairs(Panel.popPanels) do
        if(panel.__panelType == type)then
            return panel
        end
    end

    for key, panel in pairs(Panel.popStack) do
        if(panel.__panelType==type)then
            return panel
        end
    end

    return nil
end

function Panel.removePanelBeforeCreate(panelType)
    local openPanel = Panel.getOpenPanel(panelType)
    if panelType==PANEL_DIG_MINE and openPanel ~= nil then
        for key, panel in pairs(Panel.popPanels) do
            if(panel.__panelType == panelType)then
                table.remove(Panel.popPanel,key)
                panel:removeFromParent(true)
                break
            end
        end

        for key, panel in pairs(Panel.popStack) do
            if(panel.__panelType == panelType)then
                table.remove(Panel.popStack,key)
                panel:removeFromParent(true)
                break
            end
        end
    end
end

