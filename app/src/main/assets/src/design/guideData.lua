GuideData={}
GuideData.guides={}

GUIDE_ID_SET_NAME=1



GUIDE_ID_ATLAS_FIRST_ENTER_1=10 --对话
GUIDE_ID_ATLAS_FIRST_ENTER_2=11
GUIDE_ID_ATLAS_FIRST_ENTER_3=12
GUIDE_ID_ATLAS_SELECT_STAGE=13

GUIDE_ID_EDIT_FORMATION=14--调整阵容1
GUIDE_ID_START_ATLAS1=15--调整阵容1  

GUIDE_ID_GUIDE_SELECT_ATLAS1_ROLE=16

GUIDE_ID_MANUAL_FIGHT_1=17 --手动战斗
GUIDE_ID_MANUAL_FIGHT_2=18 --手动战斗

GUIDE_ID_ATLAS_END=19
GUIDE_ID_ATLAS_END_AFTER_STORY=20
GUIDE_ID_ATLAS_FIRST_ENTER_END=21




GUIDE_ID_DRAW_CARD_GOLD=30--金币抽卡
GUIDE_ID_DRAW_CARD_DIA=31--钻石抽卡
GUIDE_ID_DRAW_END_1=32--结束抽卡
GUIDE_ID_DRAW_END_2=33--抽卡后对话
GUIDE_ID_DRAW_END_3=34--结束抽卡


GUIDE_ID_ATLAS_SELECT_STAGE2=41
GUIDE_ID_EDIT_FORMATION2=42
GUIDE_ID_EDIT_FORMATION3=43 
GUIDE_ID_START_ATLAS2=44      
GUIDE_ID_ATLAS_SELECT_STAGE2_END=45


GUIDE_ID_EQUIP_ITEM_1=50
GUIDE_ID_EQUIP_ITEM_2=51


GUIDE_ID_EQUIP_UPQUALITY_1=60
GUIDE_ID_EQUIP_UPQUALITY_2=61
GUIDE_ID_EQUIP_UPQUALITY_3=62 
GUIDE_ID_EQUIP_EXIT=63 --退出装备
GUIDE_ID_CARD_LIST_EXIT=64 --退出英雄列表
GUIDE_ID_ATLAS_EXIT=65 --退出英雄列表




GUIDE_ID_GUIDE_SELECT_ATLAS3_ROLE=69
GUIDE_ID_UPGRADE_EQUIP_ITEM_1=70  --强化装备1
GUIDE_ID_UPGRADE_EQUIP_ITEM_2=71  --强化装备2

GUIDE_ID_ATLAS_SELECT_STAGE3=75 --第三次选择关卡
GUIDE_ID_ATLAS_SELECT_STAGE3_END=77 --第三次选择关卡


GUIDE_ID_ATLAS_SELECT_STAGE4=78 --第三次选择关卡
GUIDE_ID_ATLAS_SELECT_STAGE4_END=79 --第三次选择关卡

GUIDE_ID_RECURIT_1        = 80 --招募1
GUIDE_ID_RECURIT_2        = 81 --招募2
GUIDE_ID_RECURIT_3        = 82 --招募3
GUIDE_ID_ATLAS_SELECT_STAGE5 = 83 --第五次选择关卡
GUIDE_ID_EDIT_FORMATION4    =84
GUIDE_ID_START_ATLAS5=85     --开始副本


GUIDE_ID_COOPERATE_SKILL_1=90 --合体技1
GUIDE_ID_COOPERATE_SKILL_2=91 --合体技2
GUIDE_ID_COOPERATE_SKILL_3=92 --合体技3
GUIDE_ID_COOPERATE_SKILL_4=93 --合体技4  
GUIDE_ID_ATLAS_SELECT_STAGE5_END = 95 --第五次选择关卡


GUIDE_ID_UPGRADE_CARD_1=100 --升星1
GUIDE_ID_UPGRADE_CARD_2=101 --升星2
GUIDE_ID_UPGRADE_CARD_3=102 --升星3


GUIDE_ID_ONLINE_GIFT_1=110 --在线礼包
GUIDE_ID_ONLINE_GIFT_2=111 --在线礼包 
GUIDE_ID_ONLINE_GIFT_3=112 --在线礼包


GUIDE_ID_GUIDE_SELECT_GUIDE_CARD1=211
GUIDE_ID_GUIDE_SELECT_GUIDE_CARD2=212
GUIDE_ID_GUIDE_SELECT_GUIDE_CARD3=213
GUIDE_ID_GUIDE_SELECT_GUIDE_ROLE4=214 
GUIDE_ID_GUIDE_SELECT_GUIDE_ROLE6=215


GUIDE_ID_GUIDE_SELECT_GUIDE_BATTLE1_CARD1=211
GUIDE_ID_GUIDE_SELECT_GUIDE_BATTLE1_CARD2=212

GUIDE_ID_GUIDE_SELECT_GUIDE_BATTLE1_CARD3_1=213
GUIDE_ID_GUIDE_SELECT_GUIDE_BATTLE1_CARD3_2=214
GUIDE_ID_GUIDE_SELECT_GUIDE_BATTLE1_CARD3_3=215

GUIDE_ID_GUIDE_SELECT_GUIDE_BATTLE1_CARD4=216
GUIDE_ID_GUIDE_SELECT_GUIDE_BATTLE1_CARD5=217
GUIDE_ID_GUIDE_SELECT_GUIDE_BATTLE1_CARD6=218

GUIDE_ID_GUIDE_SELECT_GUIDE_BATTLE2_CARD1=221

GUIDE_ID_ENTER_ARENA         = 1000 --进入竞技场
GUIDE_ID_ENTER_ARENA1        = 1001 
GUIDE_ID_ENTER_ARENA2        = 1002 
GUIDE_ID_ENTER_ARENA3        = 1003 
GUIDE_ID_ENTER_ARENA4        = 1004 

GUIDE_ID_ENTER_SHOP          = 1010 --进入商店

GUIDE_ID_ENTER_ELITEATLAS    = 1020 --精英副本
GUIDE_ID_ENTER_ELITEATLAS1   = 1021 --精英副本

GUIDE_ID_ENTER_TURNGOLD      = 1030 --点石成金

GUIDE_ID_ENTER_TASK          = 1040 --任务
GUIDE_ID_ENTER_TASK1         = 1041 --任务
GUIDE_ID_ENTER_TASK2         = 1042 --任务

GUIDE_ID_ENTER_SKILL         = 1050 --技能
GUIDE_ID_ENTER_SKILL1        = 1051 --技能
GUIDE_ID_ENTER_SKILL2        = 1052 --技能
GUIDE_ID_ENTER_SKILL3        = 1053 --技能
GUIDE_ID_ATLAS_SELECT_STAGE4 = 1054 --第四次选择关卡 

GUIDE_ID_ENTER_FRIEND        = 1060 --好友

GUIDE_ID_ENTER_ACTGOLD       = 1070 --金币试炼
GUIDE_ID_ENTER_ACTGOLD1      = 1071 --金币试炼
GUIDE_ID_ENTER_ACTGOLD2      = 1072 --金币试炼
GUIDE_ID_ENTER_ACTEXP        = 1080 --经验试炼
GUIDE_ID_ENTER_ACTEXP1       = 1081 --经验试炼
GUIDE_ID_ENTER_ACTEXP2       = 1082 --经验试炼
GUIDE_ID_ENTER_ACTPETSOUL    = 1090 --神兽丹试炼
GUIDE_ID_ENTER_ACTPETSOUL1   = 1091 --神兽丹试炼
GUIDE_ID_ENTER_ACTPETSOUL2   = 1092 --神兽丹试炼
GUIDE_ID_ENTER_ACTEQUSOUL    = 1100 --器皿试炼
GUIDE_ID_ENTER_ACTEQUSOUL1   = 1101 --器皿试炼
GUIDE_ID_ENTER_ACTEQUSOUL2   = 1102 --器皿试炼

GUIDE_ID_ENTER_FAMILY        = 2000 --军团

GUIDE_ID_ENTER_PETTOWER      = 2010 --爬塔
GUIDE_ID_ENTER_PETTOWER1     = 2011 --爬塔

GUIDE_ID_ENTER_PET_PRE       = 2020 --神兽
GUIDE_ID_ENTER_PET           = 2021 --神兽
GUIDE_ID_ENTER_PET1          = 2022 --神兽
GUIDE_ID_ENTER_PET2          = 2023 --神兽
GUIDE_ID_ENTER_PET3          = 2024 --神兽

GUIDE_ID_ENTER_PETSKILL      = 2030 --神兽技能
GUIDE_ID_ENTER_PETSKILL1     = 2031 --神兽技能

GUIDE_ID_ENTER_PETSTAR       = 2040 --神兽升星
GUIDE_ID_ENTER_PETSTAR1      = 2041 --神兽升星

GUIDE_ID_ENTER_ATLASBOX      = 2050 --神兽升星

GUIDE_ID_ENTER_BATTLESPEEDUP = 2060 --战斗加速
GUIDE_ID_ENTER_BATTLEAUTO    = 2065 --自动战斗

GUIDE_ID_ENTER_PET_FORMATION = 2070 --神兽布阵
GUIDE_ID_ENTER_PET_FORMATION1= 2071 --神兽布阵
GUIDE_ID_ENTER_PET_FORMATION2= 2072 --神兽布阵

GUIDE_ID_ENTER_BATH          = 2080 --修仙台
GUIDE_ID_ENTER_BATH1         = 2081 --修仙台
GUIDE_ID_ENTER_BATH2         = 2082 --修仙台

GUIDE_ID_ENTER_TRAINROOM     = 2090 --训练房
GUIDE_ID_ENTER_TRAINROOM1    = 2091 --训练房
GUIDE_ID_ENTER_TRAINROOM2    = 2092 --训练房

GUIDE_ID_ENTER_XUNXIAN       = 2100 --寻仙
GUIDE_ID_ENTER_XUNXIAN1      = 2101 --寻仙
GUIDE_ID_ENTER_XUNXIAN2      = 2102 --寻仙
GUIDE_ID_ENTER_XUNXIAN3      = 2103 --寻仙
GUIDE_ID_ENTER_XUNXIAN4      = 2104 --寻仙
GUIDE_ID_ENTER_XUNXIAN5      = 2105 --寻仙

GUIDE_ID_ENTER_SWEEP         = 2110 --扫荡
GUIDE_ID_ENTER_SWEEP1        = 2111 --扫荡

GUIDE_ID_ENTER_CRUSADE1      = 2200 --叛军 
GUIDE_ID_ENTER_CRUSADE2      = 2201 --叛军 

GUIDE_ID_ENTER_WEAPON1       = 2301 --神器
GUIDE_ID_ENTER_WEAPON2       = 2302 --神器
GUIDE_ID_ENTER_WEAPON3       = 2303 --神器 
GUIDE_ID_ENTER_WEAPON4       = 2304 --神器

GUIDE_ID_ENTER_MINE1         = 2305 --挖矿
GUIDE_ID_ENTER_MINE2         = 2306 --挖矿
GUIDE_ID_ENTER_MINE3         = 2307 --挖矿


GUIDE_ID_ENTER_BOSSATLAS    = 2400 --魔王副本
GUIDE_ID_ENTER_BOSSATLAS1   = 2401 --魔王副本
GUIDE_ID_ENTER_BOSSATLAS2   = 2402 --魔王副本


GUIDE_ID_GET_NEW_TASK_REWARD1 = 2501 
GUIDE_ID_GET_NEW_TASK_REWARD2 = 2502 
GUIDE_ID_GET_NEW_TASK_REWARD3 = 2503  
GUIDE_ID_GET_NEW_TASK_REWARD4 = 2504  
GUIDE_ID_GET_NEW_TASK_CLOSE = 2506 
GUIDE_ID_GET_NEW_TASK_CLOSE2 = 2507 
GUIDE_ID_GET_NEW_TASK_CLOSE3 = 2508  


GUIDE_ID_ATLAS_SELECT_STAGE4=2601  
GUIDE_ID_ATLAS_SELECT_STAGE6=2602
GUIDE_ID_ATLAS_SELECT_STAGE8=2603
GUIDE_ID_ATLAS_SELECT_STAGE21=2604
GUIDE_ID_EDIT_FORMATION8=2605
GUIDE_ID_ATLAS_SELECT_STAGE21_STORY=2606


GUIDE_ID_ENTER_TREASURE1       = 2701 --宝物
GUIDE_ID_ENTER_TREASURE2       = 2702 --宝物
GUIDE_ID_ENTER_TREASURE3       = 2703 --宝物
GUIDE_ID_ENTER_TREASURE4       = 2704 --宝物

GUIDE_ID_ENTER_TOWER1       = 2800 --无尽之塔
GUIDE_ID_ENTER_TOWER2       = 2801 --无尽之塔
GUIDE_ID_ENTER_TOWER3       = 2803 --无尽之塔
GUIDE_ID_ENTER_TOWER4       = 2804 --无尽之塔
GUIDE_ID_ENTER_TOWER5       = 2805 --无尽之塔
GUIDE_ID_ENTER_TOWER6       = 2806 --无尽之塔
GUIDE_ID_ENTER_TOWER7       = 2807 --无尽之塔
GUIDE_ID_ENTER_TOWER8       = 2808 --无尽之塔
GUIDE_ID_ENTER_TOWER9       = 2809 --无尽之塔
GUIDE_ID_ENTER_TOWER10       = 28010 --无尽之塔
GUIDE_ID_ENTER_TOWER11       = 28011 --无尽之塔
GUIDE_ID_ENTER_TOWER12       = 28012 --无尽之塔
GUIDE_ID_ENTER_TOWER13       = 28013 --无尽之塔
GUIDE_ID_ENTER_TOWER14       = 28014 --无尽之塔
GUIDE_ID_ENTER_TOWER15       = 28015 --无尽之塔

GUIDE_ID_ENTER_HALO1       = 2900 --幻灵守卫
GUIDE_ID_ENTER_HALO2       = 2901 --幻灵守卫


GUIDE_ID_ALTAS_NOTICE1      = 10000  
GUIDE_ID_ALTAS_NOTICE2      = 10001  
GUIDE_ID_ALTAS_NOTICE3      = 10002  
GUIDE_ID_ALTAS_NOTICE4      = 10003  

GUIDE_EVENT_ID_START_FORMATION=1000001
GUIDE_EVENT_ID_END_FORMATION=1000002

 

function GuideData.firstEnterAltas(mapid,stageid,type)
    for key, step in pairs(GuideStepData) do
        if(step.firstEnterAltas)then
            step.firstEnterAltas(mapid,stageid,type)
        end
    end 
end


function GuideData.firstExitAltas(mapid,stageid,type)
    for key, step in pairs(GuideStepData) do
        if(step.firstExitAltas)then
            step.firstExitAltas(mapid,stageid,type)
        end
    end 
end

function GuideData.initGuideData()
    local guide={}
    local step1={}
    local step2={}
    local step3={}
    local step4={}
    local step5={}

    guide={}
    guide.id=GUIDE_ID_SET_NAME--设置名字
    step1={
        param=15,
        enterEvent=EVENT_ID_GUIDE_SHOW_STORY,
        exitEvent=EVENT_ID_GUIDE_SET_NAME, 
      --  effect="v1.wav"
    }
    
    guide.steps={step1}
    table.insert(GuideData.guides,guide)
    
    for key, step in pairs(GuideStepData) do
        if(step.initGuide)then
            step.initGuide()
    	end
    end 
 
 
 

  

    --接受新模块教学
    for key,var in pairs(Unlock.system) do
        if var.initGuide then
            var.initGuide();
            -- table.insert(GuideData.guides,var.initGuide());
        end
    end
end
 
 
 
-- 第二个 是对话id  
-- 第三个是位置（ 左（1），中（2)   右(3)）  
-- 第四个是panel 可以nil
function GuideData.initSmallStoryGuide(id,storyid,pos,panel)

    guide={}
    guide.id=id 
    step1={
        storyid=storyid,
        storyPos=pos, 
        paths={"guidePanel",panel,"black_bg"} ,
        enterEvent=EVENT_ID_GUIDE_SHOW_SMALL_STORY, 
        exitEvent=EVENT_ID_GUIDE_SHOW_HAND,
    }
    guide.steps={step1}
    table.insert(GuideData.guides,guide)
end
 



function GuideData.initStoryGuide(id,storyid)

    guide={}
    guide.id=id 
    step1={
        param=storyid,
        enterEvent=EVENT_ID_GUIDE_SHOW_STORY, 
    }
    guide.steps={step1}
    table.insert(GuideData.guides,guide)
end

function GuideData.initExitCardGuide()

    guide={}
    guide.id=GUIDE_ID_EQUIP_EXIT --退出装备
    step1={paths={"panel",PANEL_CARD_INFO,"btn_close"} }
    guide.steps={step1}
    table.insert(GuideData.guides,guide)


    guide={}
    guide.id=GUIDE_ID_CARD_LIST_EXIT --退出英雄列表
    step1={paths={"panel",PANEL_CARD,"btn_close"} }
    guide.steps={step1}
    table.insert(GuideData.guides,guide)
    
    
    guide={}
    guide.id=GUIDE_ID_ATLAS_EXIT --退出英雄列表
    step1={paths={"panel",PANEL_ATLAS,"btn_close"} }
    guide.steps={step1}
    table.insert(GuideData.guides,guide)
    
    
    
    

end

function GuideData.getGuide(id)

    for key, guide in pairs(GuideData.guides) do
        if(guide.id==id)then
            return guide
        end
    end

    return nil
end